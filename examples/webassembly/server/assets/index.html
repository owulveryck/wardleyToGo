<!DOCTYPE html>
<html>  
	<head>
		<meta charset="utf-8"/>
		<link rel="stylesheet" type="text/css" href="style.css" media="screen" />

		<script src="wasm_exec.js"></script>
		<script>
			const go = new Go();
			WebAssembly.instantiateStreaming(fetch("wtg.wasm"), go.importObject).then((result) => {
							go.run(result.instance);
						});
		</script>
	</head>
	<body>

		<div class="row">
			<div id="colLeft" class="column left" style="background-color:#aaa;">
			<button onclick="displayImage();">run</button> (or ctrl+enter)
			<button><a href="" id="dl" download="wtg.svg">Download SVG</a></button> 
			
								<textarea id="code" name="code" rows="50" cols="40" onkeypress="onTextChange();">
title: sample map // title is optional
/***************
  value chain 
****************/

business - cup of tea
public - cup of tea
cup of tea - cup
cup of tea -- tea
cup of tea --- hot water
hot water - water
hot water -- kettle
kettle - power

/***************
  definitions 
****************/

// you can inline the evolution
business: |....|....|...x.|.........|

public: |....|....|....|.x...|

// or create blocks
cup of tea: {
  evolution: |....|....|..x..|........|
  color: Green // you can set colors
}
cup: {
  type: buy
  evolution: |....|....|....|....x....|
}
tea: {
  type: buy
  evolution: |....|....|....|.....x....|
}
hot water: {
  evolution: |....|....|....|....x....|
  color: Blue
}
water: {
  type: outsource
  evolution: |....|....|....|.....x....|
}

// you can set the evolution with a >
kettle: {
  type: build
  evolution: |...|...x.|..>.|.......|
}
power: {
  type: outsource
  evolution: |...|...|....x|.....>..|
}

/***************
  evolution 
****************/
// stage1 and stage3 are using the default 
stage2: custom development
stage4: commodity
</textarea>
								<br/>
				Zoom: <span id="zoomValue">1</span>
				  <button onclick="GetURL()"> Get URL </button>
    <p id="url"></p>
			</div>
			<div id="colRight" class="column right" style="background-color:#fff;">
				<div class="container" id="svgContainer">
					<svg />
				</div>
			</div>
		</div>
		<canvas id="canvas"></canvas>

		<script src="script.js"></script>
	</body>
</html>  
